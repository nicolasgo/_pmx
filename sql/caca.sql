select date(time) as date, count(if(action=3,1,null)) as a3, count(if(action=4,1,null)) as a4, count(if(action=5,1,null)) as a5, count(if(action=6,1,null)) as a6, count(if(action=7,1,null)) as a7, count(if(action=8,1,null)) as a8, count(if(action=9,1,null)) as a9, count(if(action=10,1,null)) as a10, count(if(action=11,1,null)) as a11, count(if(action=12,1,null)) as a12, count(if(action=13,1,null)) as a13, count(if(action=14,1,null)) as a14, count(if(action=15,1,null)) as a15, count(if(action=16,1,null)) as a16, count(if(action=17,1,null)) as a17, count(if(action=18,1,null)) as a18 from smp_usage_log where time > '2014-07-01'  group by date with rollup;

